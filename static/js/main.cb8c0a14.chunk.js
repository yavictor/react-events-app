(this["webpackJsonpevents-app"]=this["webpackJsonpevents-app"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(8),r=n.n(a),s=(n(14),n(3)),o=n(9),u=n(6),l=n(2),j=n(0);function v(e){var t=e.cities,n=void 0===t?[]:t,i=e.filterRequest,a=void 0===i?Function.prototype:i,r=Object(c.useState)(""),s=Object(l.a)(r,2),o=s[0],u=s[1];return Object(j.jsxs)("select",{className:"input-selector",value:o,onChange:function(e){u(e.target.value),a(e.target.value,"city")},children:[Object(j.jsx)("option",{value:"",children:"-"}),n.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))]})}function d(e){var t=e.months,n=void 0===t?[]:t,i=e.filterRequest,a=void 0===i?Function.prototype:i,r=Object(c.useState)(""),s=Object(l.a)(r,2),o=s[0],u=s[1],v=["January","February","March","April","May","June","July","August","September","October","November","December"];return Object(j.jsxs)("select",{className:"input-selector",value:o,onChange:function(e){u(e.target.value),a(e.target.value,"month")},children:[" ",Object(j.jsx)("option",{value:"",children:"-"}),n.map((function(e){return Object(j.jsx)("option",{value:e,children:v[e-1]},e)}))]})}function h(e){var t=e.id,n=void 0===t?0:t,c=e.changeFav,i=void 0===c?Function.prototype:c,a=e.favs,r=void 0===a?{}:a;return Object(j.jsx)("div",{className:"fav-item",onClick:function(){return i(n)},children:r[n]?Object(j.jsx)("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M15 19L8 14L1 19V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H13C13.5304 1 14.0391 1.21071 14.4142 1.58579C14.7893 1.96086 15 2.46957 15 3V19Z",fill:"white",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):Object(j.jsx)("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M15 19L8 14L1 19V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H13C13.5304 1 14.0391 1.21071 14.4142 1.58579C14.7893 1.96086 15 2.46957 15 3V19Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}function b(e){var t=e.id,n=e.name,c=e.date,i=e.image,a=e.changeFav,r=void 0===a?Function.prototype:a,s=e.fav,o=void 0!==s&&s,u=e.favs,l=void 0===u?{}:u,v=c.split(".")[0];return Object(j.jsxs)("div",{id:t,className:"event-card",style:{backgroundImage:"url(".concat(i,")")},children:[Object(j.jsxs)("div",{className:"top-container",children:[Object(j.jsx)("div",{className:"date-box",children:v}),Object(j.jsx)(h,{id:t,changeFav:r,fav:o,favs:l})]}),Object(j.jsx)("div",{className:"event-name",children:n})]})}function f(e){var t=e.events,n=void 0===t?[]:t,c=e.changeFav,i=void 0===c?Function.prototype:c,a=e.favs,r=void 0===a?{}:a;return n.length?Object(j.jsx)("div",{className:"events",children:n.map((function(e){return Object(j.jsx)(b,Object(s.a)(Object(s.a)({},e),{},{changeFav:i,favs:r}),e.id)}))}):Object(j.jsx)("h3",{children:"Sorry no events loaded"})}var O=function(){var e=JSON.parse(localStorage.getItem("favs")),t=Object(c.useState)([]),n=Object(l.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(e||{}),h=Object(l.a)(r,2),b=h[0],O=h[1],m=i.map((function(e){var t=function(e){var t=e.split("."),n=Object(l.a)(t,3),c=n[0],i=n[1];return[n[2],i,c]}(e.date);return Object(o.a)(Date,Object(u.a)(t))})).map((function(e){return e.getMonth()})),p=i.map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{month:m[t]})})),g=Object(u.a)(new Set(m)).sort((function(e,t){return e-t})),x=i.map((function(e){return e.city})),w=Object(u.a)(new Set(x)).sort(),y=function(e,t){var n=[];"month"===t&&""!==e&&(n=p.filter((function(t){return t.month===+e})),a(n)),"city"===t&&""!==e&&(n=p.filter((function(t){return t.city===e})),a(n))};return Object(c.useEffect)((function(){fetch("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json").then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){console.error(e)}))}),[]),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{className:"title",children:"Event Listing"}),Object(j.jsxs)("form",{className:"selectors",children:[Object(j.jsxs)("label",{className:"city-selector",children:["City:",Object(j.jsx)(v,{cities:w,filterRequest:y})]}),Object(j.jsxs)("label",{className:"month-selector",children:["Month:",Object(j.jsx)(d,{months:g,filterRequest:y})]})]}),Object(j.jsx)("div",{className:"events-grid",children:Object(j.jsx)(f,{events:p,changeFav:function(e){var t=Object(s.a)({},b);!0===b[e]?t[e]=!1:t[e]=!0,O(t),localStorage.setItem("favs",JSON.stringify(t))},favs:b})})]})};var m=function(){return Object(j.jsx)(O,{})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),p()}},[[16,1,2]]]);
//# sourceMappingURL=main.cb8c0a14.chunk.js.map